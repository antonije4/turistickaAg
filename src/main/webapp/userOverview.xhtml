<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/layout/layout.xhtml">

    <f:metadata>
        <f:viewAction action="#{registrationController.init()}" />
    </f:metadata>

    <ui:define name="content">

        <p:panel id="panelpanel">
            <p:selectOneRadio id="userType"
                              value="#{registrationController.userType}">
                <p:ajax event="change" update="centralForm" process="@this"/>
                <f:selectItems value="#{registrationController.allUserTypes}"/>
            </p:selectOneRadio>
            <h:panelGrid id="ugostiteljGrid" rendered="#{registrationController.renderUgostiteljData()}" columns="2">

                <p:outputLabel value="Tip korisnika"/>
                <p:selectOneMenu id="ugostiteljType"
                                 value="#{registrationController.ugostitelj.ugostiteljType}" required="true"
                                 styleClass="full-width val-static">
                    <p:ajax event="change" update="centralForm" process="@this"/>
                    <f:selectItems value="#{registrationController.allUgostiteljTypes}"/>
                </p:selectOneMenu>

                <p:outputLabel value="UserName"/>
                <p:inputText id="userName" value="#{registrationController.ugostitelj.username}" label="UserName" />

                <p:outputLabel value="Password"/>
                <p:password id="password" value="#{registrationController.ugostitelj.password}" label="Password"/>

                <p:outputLabel value="Email"/>
                <p:inputText id="email" value="#{registrationController.ugostitelj.email}"/>

                <p:outputLabel value=""/>
                <p:commandButton action="#{registrationController.registerUgostitelj()}" value="Register"/>

            </h:panelGrid>
            <h:panelGrid id="privilegedGrid" rendered="#{registrationController.renderPrivilegedUserData()}" columns="2">


                <p:outputLabel value="Username"/>
                <p:inputText id="privilegedUserName" value="#{registrationController.privilegedUser.username}" label="UserName" />

                <p:outputLabel value="Password"/>
                <p:password id="privilegedPassword" value="#{registrationController.privilegedUser.password}" label="Password"/>

                <p:outputLabel value="FirstName"/>
                <p:inputText id="privilegedFirstName" value="#{registrationController.privilegedUser.firstName}" label="FirstName"/>

                <p:outputLabel value="LastName"/>
                <p:inputText id="privilegedLastName" value="#{registrationController.privilegedUser.lastName}"/>

                <p:outputLabel value="Email"/>
                <p:inputText id="privilegedEmail" value="#{registrationController.privilegedUser.email}"/>

                <p:outputLabel value=""/>
                <p:commandButton action="#{registrationController.registerPrivileged()}" value="Register" update="regGrid"/>

            </h:panelGrid>
            <h:panelGrid id="touristGrid" rendered="#{registrationController.renderTouristData()}" columns="2">


                <p:outputLabel value="Username"/>
                <p:inputText id="touristUserName" value="#{registrationController.tourist.username}" label="UserName" />

                <p:outputLabel value="Password"/>
                <p:password id="touristPassword" value="#{registrationController.tourist.password}" label="Password"/>

                <p:outputLabel value="FirstName"/>
                <p:inputText id="touristFirstName" value="#{registrationController.tourist.firstName}" label="FirstName"/>

                <p:outputLabel value="LastName"/>
                <p:inputText id="touristLastName" value="#{registrationController.tourist.lastName}"/>

                <p:outputLabel value="Email"/>
                <p:inputText id="touristEmail" value="#{registrationController.tourist.email}"/>

                <p:outputLabel value=""/>
                <p:commandButton action="#{registrationController.registerTourist()}" value="Register" update="regGrid"/>

            </h:panelGrid>
        </p:panel>
        <p><h:link value="Login page" outcome="login" /></p>


    </ui:define>
</ui:composition>