<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/layout/layout.xhtml">

    <f:metadata>
        <f:viewAction action="#{registrationController.init()}" />
    </f:metadata>

    <ui:define name="content">

            <p:panel id="panelpanel">
                <p:selectOneRadio id="userType"
                                  value="#{registrationController.userType}">
                    <p:ajax event="change" update="centralForm" process="@this"/>
                    <f:selectItems value="#{registrationController.allUserTypes}"/>
                </p:selectOneRadio>
                <h:panelGrid id="ugostiteljGrid" rendered="#{registrationController.renderUgostiteljData()}" columns="3">

                    <p:outputLabel value="Tip korisnika"/>
                    <p:selectOneMenu id="ugostiteljType"
                                     value="#{registrationController.ugostitelj.ugostiteljType}" required="true"
                                     styleClass="full-width val-static">
                        <p:ajax event="change" update="centralForm" process="@this"/>
                        <f:selectItems value="#{registrationController.allUgostiteljTypes}"/>
                    </p:selectOneMenu>
                    <p:outputLabel value=""/>


                    <p:outputLabel value="UserName"/>
                    <p:inputText required="true" requiredMessage="Username can't be emtpy!" id="username" value="#{registrationController.ugostitelj.username}" label="UserName" />
                    <p:message for="username"/>

                    <p:outputLabel value="Password"/>
                    <p:password required="true" requiredMessage="Password can't be emtpy!" id="password" value="#{registrationController.ugostitelj.password}" label="Password"/>
                    <p:message for="password"/>

                    <p:outputLabel value="Email"/>
                    <p:inputText id="email" requiredMessage="Email can't be empty!" validatorMessage="Email not in the correct format!" value="#{registrationController.ugostitelj.email}">
                        <f:validateRegex pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$"/>
                    </p:inputText>
                    <p:message for="email"/>

                    <p:outputLabel value=""/>
                    <p:commandButton action="#{registrationController.registerUgostitelj()}" value="Register" update="centralForm"/>

                </h:panelGrid>
                <h:panelGrid rendered="#{registrationController.renderTouristData()}" id="touristGrid" columns="3">


                    <p:outputLabel value="Username"/>
                    <p:inputText required="true" requiredMessage="Username can't be emtpy!" id="touristUsername" value="#{registrationController.tourist.username}" label="UserName" />
                    <p:message for="touristUsername"/>


                    <p:outputLabel value="Password"/>
                    <p:password required="true" requiredMessage="Password can't be emtpy!" id="touristPassword" value="#{registrationController.tourist.password}" label="Password"/>
                    <p:message for="touristPassword"/>


                    <p:outputLabel value="FirstName"/>
                    <p:inputText required="true" id="touristFirstName" value="#{registrationController.tourist.firstName}" label="FirstName"/>
                    <p:message for="touristFirstName"/>

                    <p:outputLabel value="LastName"/>
                    <p:inputText required="true" requiredMessage="Last name can't be emtpy!" id="touristLastName" value="#{registrationController.tourist.lastName}"/>
                    <p:message for="touristLastName"/>

                    <p:outputLabel value="Email"/>
                    <p:inputText required="true" requiredMessage="Email can't be emtpy!" id="touristEmail" value="#{registrationController.tourist.email}">
                        <f:validateRegex pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$"/>
                    </p:inputText>
                    <p:message for="touristEmail"/>

                    <p:outputLabel value=""/>
                    <p:commandButton action="#{registrationController.registerTourist()}" value="Register" update="centralForm"/>

                </h:panelGrid>
                <h:panelGrid rendered="#{registrationController.renderPrivilegedUserData()}" id="privilegedGrid" columns="3">


                    <p:outputLabel value="Username"/>
                    <p:inputText required="true" requiredMessage="Username can't be emtpy!" id="privilegedUsername" value="#{registrationController.privilegedUser.username}" label="UserName" />
                    <p:message for="privilegedUsername"/>


                    <p:outputLabel value="Password"/>
                    <p:password required="true" requiredMessage="Password can't be emtpy!" id="privilegedPassword" value="#{registrationController.privilegedUser.password}" label="Password"/>
                    <p:message for="privilegedPassword"/>


                    <p:outputLabel value="FirstName"/>
                    <p:inputText required="true" id="privilegedFirstName" value="#{registrationController.privilegedUser.firstName}" label="FirstName"/>
                    <p:message for="privilegedFirstName"/>

                    <p:outputLabel value="LastName"/>
                    <p:inputText required="true" requiredMessage="Last name can't be emtpy!" id="privilegedLastName" value="#{registrationController.privilegedUser.lastName}"/>
                    <p:message for="privilegedLastName"/>

                    <p:outputLabel value="Email"/>
                    <p:inputText required="true" requiredMessage="Email can't be emtpy!" id="privilegedEmail" value="#{registrationController.privilegedUser.email}">
                        <f:validateRegex pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$"/>
                    </p:inputText>
                    <p:message for="privilegedEmail"/>

                    <p:outputLabel value=""/>
                    <p:commandButton action="#{registrationController.registerPrivileged()}" value="Register" update="centralForm"/>

                </h:panelGrid>
            </p:panel>

    </ui:define>
</ui:composition>